# Type signatures for AwsSecretsManagerForwarder
class AwsSecretsManagerForwarder
  MAX_BATCH_SIZE: Integer

  attr_reader client: untyped  # Aws::SecretsManager::Client
  attr_reader region: String
  attr_reader cache: SecretsCache

  def initialize: (?region: String?, ?credentials: untyped?, ?cache: SecretsCache?) -> void

  def forward: (target: String, body: String) -> ForwardResponse

  private

  def extract_operation: (String target) -> String
  def error_status_code: (untyped error) -> Integer
  def forward_to_aws: (String operation, Hash[String, untyped] params) -> Hash[Symbol, untyped]
  def deep_underscore_keys: (untyped value) -> untyped
  def deep_pascalize_keys: (untyped value) -> untyped
  def handle_batch_get_secret_value: (Hash[String, untyped] params) -> Hash[Symbol, untyped]
  def handle_get_secret_value: (Hash[String, untyped] params) -> Hash[Symbol, untyped]
  def fetch_from_aws: (Array[String] secret_ids) -> Hash[Symbol, untyped]
  def fetch_batch: (Array[String] secret_ids) -> Hash[Symbol, untyped]
  def fetch_batches_parallel: (Array[Array[String]] batches) -> Hash[Symbol, untyped]
end

class ForwardResponse < Struct[untyped]
  attr_accessor status: Integer
  attr_accessor body: String
  attr_accessor headers: Hash[String, String]

  def initialize: (?status: Integer, ?body: String, ?headers: Hash[String, String]) -> void
end
